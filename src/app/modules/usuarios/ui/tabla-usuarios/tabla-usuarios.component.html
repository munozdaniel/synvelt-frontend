<div class="p-2 md:p-4 w-full">
  <div class="w-full">
    <mat-progress-bar
      *ngIf="cargando"
      mode="indeterminate"
      class="w-full"
    ></mat-progress-bar>
    <table
      #sort="matSort"
      mat-table
      matSort
      [dataSource]="dataSource"
      class="mat-elevation-z1 m-0"
      multiTemplateDataRows
    >
      <!--     'cuit', 'nombreCompleto', 'area', 'perfil', 'estado'
                       -->

      <ng-container matColumnDef="cuit">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Cuit</th>
        <td mat-cell *matCellDef="let row">
          <div class="flex flex-col">
            <span> {{ row.Cuil }}</span>
          </div>
        </td>
      </ng-container>
      <!--  '',
                        -->
      <ng-container matColumnDef="nombreCompleto">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre</th>
        <td mat-cell *matCellDef="let row">
          {{ row.Apellido + " " + row.Nombre }}
        </td>
      </ng-container>

      <!--'',
                         -->
      <ng-container matColumnDef="area">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Área</th>
        <td mat-cell *matCellDef="let row">
          <!-- {{ row.celular }} -->
        </td>
      </ng-container>
      <!-- '',
                        -->
      <ng-container matColumnDef="estado">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Estado</th>
        <td mat-cell *matCellDef="let row"></td>
      </ng-container>

      <!-- -->
      <ng-container matColumnDef="expandedDetail">
        <td mat-cell *matCellDef="let element" [attr.colspan]="columnas.length">
          <div
            class="detalle_expansible"
            [@detailExpand]="
              element === expandedElement ? 'expanded' : 'collapsed'
            "
          >
            <div
              class="p-2 w-full flex flex-row justify-between flex-wrap"
              style="color: white; background: rgb(30 33 41 / 87%)"
            >
              <!-- <app-contenido-expansible
                class="w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2"
                [elementos]="[
                  {
                    hideMd: true,
                    nombre: 'Teléfono',
                    valor: element.telefono
                  },
                  {
                    hideMd: true,
                    nombre: 'Email',
                    valor: element.email
                  },
                  {
                    hideMd: true,
                    nombre: 'Celular',
                    valor: element.celular
                  },
                  {
                    hideMd: true,
                    nombre: 'Empresa',
                    valor: element.empresa?.razon_social
                  },
                  {
                    hideMd: false,
                    nombre: 'Empresas',
                    valor: element.empresas,
                    tipoValor: 'empresas'
                  },
                  {
                    hideMd: false,
                    nombre: 'Rol',
                    valor: element.rol?.nombre
                  },
                  {
                    hideMd: false,
                    nombre: 'Observación',
                    valor: element.observacion
                  }
                ]"
              >
              </app-contenido-expansible> -->
            </div>
          </div>
        </td>
      </ng-container>
      <!-- -->
      <tr mat-header-row *matHeaderRowDef="columnas"></tr>
      <!-- -->
      <tr
        mat-row
        *matRowDef="let row; columns: columnas"
        class="fila_seleccionada"
        [class.example-expanded-row]="expandedElement === row"
        [ngClass]="{ row_deshabilitado: !row.activo }"
        (click)="
          expandedElement !== row
            ? (expandedElement = row)
            : (expandedElement = null)
        "
      ></tr>
      <!-- -->
      <tr
        mat-row
        *matRowDef="let row; columns: ['expandedDetail']"
        class="fila_detalle"
      ></tr>
    </table>
    <mat-card
      *ngIf="!usuarios || usuarios.length < 1"
      class="flex flex-row justify-center items-center rounded-none"
    >
      <p>No se encontraron resultados</p>
    </mat-card>

    <!-- Paginado -------------------------------------------------- -->
    <mat-paginator
      class="border-paginador paginator mat-elevation-z1"
      #paginator
      [pageSize]="10"
      [pageSizeOptions]="[10, 25, 50, 100, 200]"
    >
    </mat-paginator>
  </div>
</div>
